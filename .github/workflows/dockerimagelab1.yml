name: Docker Image CI-test

on: [push]

jobs:

  build:
 
    runs-on: ubuntu-latest
 
    steps:
    - uses: actions/checkout@v1
    - name: Build the Docker image
      run: |
        ls -l
        echo 'Docker login'
        docker login -u samuel1502 -p password123#
        echo 'Running build...'
        docker build . --file Dockerfile --tag samuel1502/gitactionslab:lab1-gitaction-latest
        echo 'Pushing image...'
        docker push samuel1502/gitactionslab:lab1-gitaction-latest
        echo 'Done!'
